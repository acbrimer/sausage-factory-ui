import React, { createRef, Fragment } from 'react';
import { List, CreateButton, TopToolbar } from 'react-admin';
import PropTypes from 'prop-types';
import { connect } from 'react-redux';
import { push } from 'react-router-redux';
import compose from 'recompose/compose';
import { useHistory } from 'react-router-dom';
import { Tooltip } from 'react-svg-tooltip';
import { withStyles, Drawer } from '@material-ui/core';
import { Route } from 'react-router';

import './tracker.css';

import TrackerStepEdit from './TrackerStepEdit';
import TrackerStepCreate from './TrackerStepCreate';

const styles = {
  drawerContent: {
    width: 700
  }
};

/***
 * https://convertio.co/ai-svg/
 */

const TrackerStep = ({ record }) => {
  const trackerStepRef = createRef();
  const history = useHistory();
  return (
    <React.Fragment>
      <g id={record.g_id} transform={record.g_transform}>
        <path
          ref={trackerStepRef}
          id={record.path_id}
          className={record.class}
          d={record.path_d}
          onClick={() => history.push('/tracker_steps/' + record.id)}
        />
        <Tooltip triggerRef={trackerStepRef}>
          <text x={5} y={5} fontSize={36} fill="black">
            {record.display_name}
          </text>
        </Tooltip>
      </g>
    </React.Fragment>
  );
};
TrackerStep.propTypes = {
  record: PropTypes.object
};

const TrackerLayout = ({ ids, data }) => {
  return (
    <div>
      <div className="bill_tracker_circle">
        <p>HB1007</p>
      </div>
      <svg
        xmlnsDc="http://purl.org/dc/elements/1.1/"
        xmlnsCc="http://creativecommons.org/ns#"
        xmlnsRdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
        xmlnsSvg="http://www.w3.org/2000/svg"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 1821.3333 1024"
        height="512"
        width="910.666"
        xmlSpace="preserve"
        id="svg2"
        version="1.1"
        overflow="visible"
      >
        <defs id="defs6">
          <clipPath id="clipPath18" clipPathUnits="userSpaceOnUse">
            <path id="path16" d="M 0,768 H 1366 V 0 H 0 Z" />
          </clipPath>
          <clipPath xmlns="http://www.w3.org/2000/svg" id="clipPath90" clipPathUnits="userSpaceOnUse">
            <path id="path88" d="M 0,768 H 1366 V 0 H 0 Z" />
          </clipPath>
          <clipPath xmlns="http://www.w3.org/2000/svg" id="clipPath136" clipPathUnits="userSpaceOnUse">
            <path id="path134" d="M 0,768 H 1366 V 0 H 0 Z" />
          </clipPath>
        </defs>
        <g transform="matrix(1.3333333,0,0,-1.3333333,0,1024)" id="g10">
          <g id="g12">
            <g clipPath="url(#clipPath18)" id="g14">
              {ids.map(id => (
                <TrackerStep record={data[id]} />
              ))}
            </g>
          </g>
          <g xmlns="http://www.w3.org/2000/svg" clipPath="url(#clipPath136)" id="g132">
            <g transform="translate(785.8721,570.8853)" id="g138">
              <path
                id="path140"
                className="tracker-background-item"
                d="m 0,0 h -23.968 c 0,9.905 0.1,37.034 0.01,37.726 -0.111,0.859 -0.314,1.708 -0.402,2.569 -0.085,0.826 -0.407,1.907 -0.021,2.433 0.485,0.66 0.297,1.307 0.556,1.894 0.145,0.331 0.537,0.549 0.807,0.829 0.16,0.164 0.424,0.343 0.429,0.522 0.036,1.35 0.02,2.703 0.02,4.101 -0.382,0.02 -0.654,0.047 -0.925,0.047 l -132.245,0.002 c 0,-1.429 -0.006,-2.726 0.009,-4.022 10e-4,-0.168 0.071,-0.444 0.178,-0.484 1.028,-0.386 1.265,-1.169 1.165,-2.153 -0.008,-0.081 0.034,-0.227 0.086,-0.245 0.717,-0.243 0.509,-0.855 0.465,-1.319 -0.128,-1.323 -0.433,-2.635 -0.491,-3.959 -0.087,-1.978 -0.022,-37.602 -0.022,-37.941 h -24.038 c 0,1.081 -0.004,174.958 -0.004,178.305 H 0 Z m 9.435,186.603 c 0.004,0.934 -0.294,1.127 -1.165,1.127 -54.886,-0.019 -188.998,-0.038 -194.852,0.003 -0.915,0.006 -1.149,-0.279 -1.147,-1.16 0.028,-7.867 0.019,-174.292 0.003,-194.859 -0.001,-0.804 0.152,-1.147 1.067,-1.145 13.164,0.029 26.328,0.03 39.492,-0.001 0.95,-0.003 1.175,0.268 1.173,1.199 -0.031,14.062 -0.189,47.893 -0.381,48.39 -0.681,1.764 0.409,3.184 0.68,4.753 0.026,0.152 0.216,0.356 0.364,0.392 0.836,0.201 0.778,0.826 0.749,1.457 -0.016,0.359 -0.002,0.718 -0.002,1.079 h 1.882 c 0,-0.607 -0.031,-1.132 0.015,-1.651 0.02,-0.239 0.14,-0.608 0.306,-0.67 0.798,-0.296 0.974,-0.894 0.897,-1.625 -0.072,-0.68 0.35,-0.855 0.876,-0.939 0.193,-0.031 -0.384,-2.26 -0.392,-2.572 -0.105,-1.833 -0.289,-3.581 -0.292,-5.328 -0.024,-14.125 -0.014,-28.249 -0.014,-42.373 0,-2.092 0.001,-2.066 2.121,-2.102 1.193,-0.02 3.952,0.137 4.338,0.17 0.578,0.05 0.655,0.35 0.694,0.856 0.118,1.548 0.019,32.255 -0.007,46.163 -0.002,0.912 -0.221,1.83 -0.403,2.732 -0.153,0.754 -0.398,1.49 -0.62,2.295 0.896,0.115 1.274,0.599 1.214,1.547 -0.02,0.329 0.344,0.859 0.664,1 0.88,0.388 0.676,1.72 0.429,2.309 0,0 9.031,0.272 9.499,0.272 0,-0.738 -0.269,-1.668 0.051,-1.967 0.846,-0.788 1.453,-1.564 1.379,-2.755 0.695,-0.203 0.496,-0.789 0.455,-1.226 -0.134,-1.444 -0.479,-2.881 -0.487,-4.322 -0.047,-8.982 -0.012,-39.647 -0.038,-45.996 -0.004,-0.775 0.149,-1.116 1.014,-1.086 1.763,0.063 3.531,0.048 5.295,0.006 0.739,-0.018 0.937,0.236 0.931,0.964 -0.037,4.305 -0.013,35.031 -0.029,46.088 -0.001,0.861 -0.024,1.79 -0.334,2.57 -0.698,1.758 0.425,3.171 0.681,4.741 0.017,0.1 0.145,0.227 0.247,0.26 0.977,0.316 0.887,1.101 0.858,1.874 -0.009,0.262 0.046,0.528 0.07,0.782 h 9.251 c 0,-0.584 -0.053,-1.111 0.021,-1.62 0.042,-0.282 0.236,-0.653 0.47,-0.774 0.617,-0.318 0.807,-0.794 0.825,-1.433 0.009,-0.288 0.099,-0.582 0.198,-0.858 0.132,-0.368 0.463,-0.732 0.438,-1.079 -0.104,-1.447 -0.452,-2.887 -0.455,-4.33 -0.035,-15.363 -0.022,-30.726 -0.022,-46.09 v -1.083 h 5.768 c 1.383,0 1.386,0 1.386,1.353 10e-4,14.62 0.012,29.24 -0.017,43.86 -0.003,1.521 -0.14,3.064 -0.429,4.555 -0.315,1.628 0.54,3.006 0.687,4.522 0.009,0.094 0.148,0.22 0.252,0.254 0.999,0.333 0.986,1.136 0.909,1.954 -0.061,0.642 0.181,0.859 0.839,0.849 2.416,-0.035 4.832,-0.014 7.248,-0.014 1.578,0 1.578,0 1.616,-1.54 0.004,-0.155 -0.053,-0.397 0.025,-0.451 0.939,-0.672 1.338,-1.558 1.469,-2.713 0.028,-0.244 0.41,-0.721 0.374,-1.146 -0.132,-1.558 -0.441,-3.112 -0.445,-4.668 -0.034,-15.147 -0.02,-30.293 -0.02,-45.44 0,-0.154 0.014,-0.311 0,-0.464 -0.067,-0.668 0.19,-0.939 0.897,-0.924 1.858,0.039 3.717,0.011 5.575,0.017 0.205,10e-4 0.409,0.052 0.682,0.089 v 0.872 c 0,15.425 0.005,30.85 -0.013,46.276 -0.001,0.834 -0.04,1.728 -0.334,2.489 -0.675,1.745 0.576,3.104 0.755,4.665 0.011,0.1 0.142,0.242 0.242,0.267 0.957,0.246 0.843,0.992 0.831,1.705 -0.005,0.298 0.034,0.597 0.054,0.909 h 9.281 c 0,-0.696 -0.266,-1.646 0.051,-1.921 0.891,-0.771 1.228,-1.649 1.51,-2.735 0.093,-0.354 0.418,-0.799 0.377,-1.246 -0.144,-1.564 -0.483,-3.121 -0.494,-4.683 -0.056,-7.186 -0.009,-37.603 -0.046,-45.625 -0.004,-0.883 0.272,-1.106 1.098,-1.081 1.702,0.051 3.409,0.054 5.111,-0.002 0.825,-0.028 1.045,0.249 1.04,1.059 -0.034,5.541 -0.008,35.83 -0.034,45.432 -0.002,1.017 -0.043,2.093 -0.37,3.037 -0.589,1.705 0.41,3.13 0.57,4.691 0.012,0.125 0.167,0.293 0.292,0.338 1.018,0.37 0.96,1.203 0.924,2.044 -0.01,0.231 0.055,0.466 0.084,0.678 h 9.179 c 0,-0.348 0.012,-0.625 -0.002,-0.9 -0.036,-0.716 -0.074,-1.364 0.806,-1.727 0.295,-0.122 0.394,-0.763 0.542,-1.18 0.098,-0.277 0.095,-0.589 0.184,-0.87 0.121,-0.37 0.433,-0.736 0.409,-1.085 -0.1,-1.379 -0.426,-2.749 -0.439,-4.125 -0.054,-5.605 0.003,-41.838 -0.042,-46.267 -0.01,-0.918 0.286,-1.161 1.163,-1.126 1.609,0.065 3.223,0.07 4.83,-0.003 0.93,-0.042 1.214,0.221 1.21,1.182 -0.036,9.323 0.01,42.189 -0.038,45.379 -0.016,1.118 -0.049,2.289 -0.387,3.335 -0.548,1.69 0.708,2.983 0.738,4.517 0.002,0.101 0.204,0.251 0.338,0.288 0.747,0.203 0.773,0.757 0.729,1.377 -0.027,0.391 -0.005,0.785 -0.005,1.203 h 1.881 c 0,-0.596 -0.032,-1.121 0.015,-1.64 0.022,-0.241 0.143,-0.605 0.318,-0.678 0.824,-0.342 1.054,-0.968 1.027,-1.779 -0.005,-0.177 0.01,-0.481 0.097,-0.515 0.742,-0.285 0.53,-0.914 0.496,-1.416 -0.146,-2.214 -0.336,-4.425 -0.522,-6.636 -0.166,-1.976 0.002,-33.018 0.003,-43.271 0,-1.322 0.001,-1.324 1.28,-1.325 13.071,0 26.143,0 39.214,0.001 1.202,0 1.201,0.002 1.201,1.255 0,43.425 -0.004,86.849 0.002,130.274 0.003,15.456 0.038,30.911 0.046,46.367 0.003,6.039 -0.053,12.079 -0.025,18.118"
              />
            </g>
            <g transform="translate(727.0684,685.1855)" id="g142">
              <path
                id="path144"
                className="tracker-background-item"
                d="m 0,0 c -1.617,0.943 -2.427,2.311 -3.034,3.817 -0.532,1.321 -0.979,1.551 -2.394,1.189 -0.895,-0.23 -1.799,-0.454 -2.713,-0.58 -2.461,-0.34 -4.333,0.858 -6.03,2.434 -2.089,1.938 -2.084,1.95 -4.635,0.763 -3.642,-1.695 -7.051,-1.336 -10.239,1.124 -1.197,0.924 -1.422,0.917 -2.648,-0.039 C -35.167,6 -39.089,5.977 -42.759,8.067 c -1.387,0.79 -1.645,0.757 -2.809,-0.295 -0.951,-0.859 -1.936,-1.693 -2.978,-2.437 -1.415,-1.011 -3.044,-1.117 -4.706,-0.821 -0.698,0.124 -1.386,0.314 -2.069,0.506 -1.317,0.37 -1.769,0.089 -2.338,-1.166 -0.685,-1.512 -1.412,-3.09 -3.182,-3.847 0.191,1.324 0.267,2.544 0.551,3.714 2.481,10.209 8.649,17.654 17.457,23.081 1.252,0.771 2.597,1.39 3.876,2.119 0.29,0.166 0.635,0.464 0.701,0.757 0.293,1.309 1.143,2.208 2.032,3.116 0.267,0.272 0.502,0.711 0.508,1.078 0.044,2.631 0.037,5.264 0.011,7.896 -0.003,0.345 -0.12,0.756 -0.33,1.021 -1.31,1.648 -1.211,2.89 0.22,4.393 1.112,1.168 2.072,2.479 3.136,3.694 0.226,0.257 0.61,0.374 0.923,0.553 0.024,0.013 0.062,-0.002 0.092,0.002 2.083,0.243 3.877,0.067 4.877,-2.26 0.395,-0.921 1.431,-1.56 2.152,-2.347 1.211,-1.324 1.204,-2.612 0.081,-3.967 -0.249,-0.3 -0.422,-0.761 -0.427,-1.151 -0.038,-2.601 -0.042,-5.203 0.006,-7.804 0.008,-0.385 0.278,-0.844 0.565,-1.131 0.859,-0.86 1.602,-1.757 1.943,-2.966 0.1,-0.35 0.453,-0.733 0.788,-0.895 7.645,-3.684 13.73,-9.07 17.943,-16.472 C -1.782,9.005 -0.504,5.317 -0.007,1.381 0.046,0.97 0,0.546 0,0"
              />
            </g>
            <g transform="translate(632.1035,622.1953)" id="g146">
              <path
                id="path148"
                className="tracker-background-item"
                d="m 0,0 v 7.423 c 0.44,0 128.907,-0.039 129.283,-0.065 0,-2.33 0.009,-4.612 -0.02,-6.895 C 129.261,0.31 128.999,0.083 128.816,0.027 128.561,-0.05 128.266,0 127.986,0 H 1.177 Z"
              />
            </g>
            <g transform="translate(761.8076,633.9971)" id="g150">
              <path
                id="path152"
                className="tracker-background-item"
                d="m 0,0 c 0.384,0 0.947,-0.206 0.981,0.501 0.029,0.578 0.14,1.143 -0.699,1.371 -1.719,0.468 -3.41,1.047 -5.115,1.573 -4.588,1.416 -9.181,2.817 -13.764,4.247 -3.408,1.064 -6.8,2.183 -10.21,3.246 -5.17,1.614 -10.35,3.194 -15.523,4.8 -6.203,1.925 -12.399,3.874 -18.608,5.782 -0.865,0.266 -1.87,0.685 -2.663,0.476 -3.092,-0.814 -6.127,-1.848 -9.181,-2.808 -3.906,-1.228 -7.806,-2.475 -11.716,-3.693 -4.584,-1.428 -9.177,-2.828 -13.763,-4.248 -4.762,-1.475 -9.521,-2.962 -14.282,-4.439 -2.146,-0.666 -4.297,-1.316 -6.442,-1.985 -3.172,-0.99 -6.334,-2.017 -9.517,-2.971 -0.856,-0.256 -0.718,-0.867 -0.609,-1.393 0.044,-0.209 0.57,-0.383 0.901,-0.449 0.387,-0.077 0.802,-0.018 1.204,-0.018 C -96.89,-0.009 -8.238,-0.011 0,0 m -92.854,-2.704 c -14.367,0 -28.734,0.008 -43.102,-0.019 -0.848,-0.002 -1.301,0.185 -1.485,1.064 -0.289,1.384 -0.681,2.746 -1.058,4.231 1.793,0.573 3.541,1.144 5.297,1.69 2.145,0.666 4.299,1.307 6.446,1.967 4.238,1.302 8.475,2.608 12.713,3.913 4.824,1.485 9.649,2.967 14.472,4.459 4.999,1.546 9.992,3.114 14.994,4.649 5.062,1.554 10.134,3.075 15.198,4.618 1.09,0.332 2.203,0.622 3.244,1.072 0.935,0.403 1.728,0.095 2.571,-0.176 0.781,-0.25 3.664,-1.126 3.925,-1.205 3.799,-1.16 7.578,-2.381 11.374,-3.547 5.68,-1.743 11.373,-3.441 17.052,-5.187 3.973,-1.221 7.925,-2.508 11.898,-3.731 C -14.257,9.537 -9.184,8.025 -4.122,6.476 -0.826,5.467 2.461,4.427 5.751,3.398 6.596,3.134 7.437,2.857 8.338,2.567 7.906,0.917 7.524,-0.637 7.071,-2.169 7.004,-2.397 6.618,-2.559 6.35,-2.688 6.197,-2.76 5.984,-2.703 5.798,-2.703 c -11.613,0 -79.698,-0.001 -98.652,-0.001"
              />
            </g>
            <g transform="translate(658.5278,656.0142)" id="g154">
              <path
                id="path156"
                className="tracker-background-item"
                d="m 0,0 c -3.891,2.773 -5.297,7.406 -1.735,11.357 2.301,2.554 5.178,4.277 8.329,5.456 3.337,1.248 6.733,2.446 10.205,3.196 4.094,0.885 8.28,1.481 12.457,1.807 4.497,0.352 9.038,0.457 13.544,0.28 4.252,-0.167 8.495,-0.759 12.722,-1.312 4.972,-0.651 9.777,-2.008 14.391,-3.974 2.806,-1.196 5.469,-2.659 7.656,-4.863 C 81.081,8.406 81.068,4.333 77.51,0.839 77.401,0.732 77.276,0.639 77.173,0.525 76.735,0.035 76.478,-0.062 76.024,0.636 74.394,3.146 72.013,4.822 69.439,6.251 65.69,8.333 61.654,9.685 57.508,10.625 49.038,12.547 40.454,13.086 31.78,12.483 27.479,12.184 23.222,11.639 19.04,10.653 13.81,9.42 8.73,7.732 4.28,4.575 2.67,3.433 1.216,2.121 0.218,0.377 0.141,0.243 0.063,0.109 0,0"
              />
            </g>
            <g transform="translate(673.2817,685.1533)" id="g158">
              <path
                id="path160"
                className="tracker-background-item"
                d="m 0,0 c -0.635,-0.131 -1.187,-0.21 -1.713,-0.372 -0.184,-0.057 -0.434,-0.315 -0.437,-0.486 -0.032,-1.848 -0.02,-3.697 -0.02,-5.709 0.806,0.16 1.48,0.294 2.17,0.431 z m 49.054,-6.582 c 0,2.019 0.014,3.81 -0.018,5.6 -0.004,0.209 -0.225,0.535 -0.414,0.597 -0.541,0.177 -1.119,0.247 -1.729,0.369 v -6.121 c 0.694,-0.143 1.35,-0.278 2.161,-0.445 M 38.43,-3.467 v 6.132 c -0.936,0.119 -1.803,0.23 -2.68,0.342 V -3.12 c 0.903,-0.117 1.751,-0.227 2.68,-0.347 M 11.12,-3.129 V 3.027 C 10.167,2.89 9.297,2.765 8.429,2.64 v -6.098 c 0.931,0.114 1.8,0.22 2.691,0.329 m 13.964,7.463 h -3.271 v -6.038 h 3.271 z M 19.252,-2.25 c -1.869,-0.184 -3.55,-0.349 -5.299,-0.521 V -5.87 C 11.748,-6.135 9.61,-6.393 7.334,-6.666 v 2.623 c -1.593,-0.253 -3.038,-0.482 -4.54,-0.72 0,-0.683 -0.054,-1.273 0.015,-1.848 0.084,-0.704 -0.233,-0.977 -0.862,-1.14 -2.147,-0.553 -4.305,-1.079 -6.42,-1.741 -1.929,-0.605 -3.807,-1.374 -5.759,-2.09 0,1.499 -0.175,3.092 0.047,4.627 0.232,1.597 0.825,3.145 1.304,4.701 0.183,0.593 0.546,0.909 1.301,0.878 1.691,-0.071 2.768,1.036 3.649,2.293 0.542,0.773 0.902,1.672 1.404,2.477 0.125,0.202 0.545,0.424 0.724,0.357 4.06,-1.524 7.488,-0.518 10.431,2.528 0.214,0.222 0.407,0.5 0.669,0.63 0.238,0.117 0.624,0.189 0.831,0.075 2.746,-1.524 5.65,-2.281 8.719,-1.377 1.409,0.415 2.698,1.27 3.997,2.006 0.435,0.246 0.721,0.358 1.141,0.036 4.003,-3.062 8.207,-3.109 12.522,-0.747 0.575,0.315 0.841,0.244 1.321,-0.163 1.21,-1.028 2.433,-2.077 3.793,-2.882 2.223,-1.316 4.587,-0.838 6.91,-0.156 0.201,0.059 0.402,0.118 0.503,0.148 0.78,-1.221 1.46,-2.416 2.271,-3.514 0.837,-1.133 1.955,-1.806 3.466,-1.755 0.317,0.01 0.794,-0.433 0.956,-0.78 0.965,-2.065 1.499,-4.24 1.452,-6.54 -0.018,-0.952 -0.003,-1.906 -0.003,-2.686 -4.363,1.386 -8.68,2.758 -13.081,4.156 v 2.496 c -1.47,0.238 -2.917,0.474 -4.498,0.731 v -2.621 c -2.27,0.268 -4.409,0.519 -6.648,0.783 v 3.112 c -1.787,0.174 -3.476,0.338 -5.303,0.516 v -3.301 h -8.394 z"
              />
            </g>
            <g transform="translate(633.1099,643.2173)" id="g162">
              <path
                id="path164"
                className="tracker-background-item"
                d="M 0,0 C -0.032,1.016 -0.557,1.771 -1.227,1.822 -1.983,1.88 -2.918,1.01 -3.182,0 Z M -4.164,8.576 C -3.6,7.817 -3.223,7.218 -2.752,6.704 -2.262,6.167 -1.589,6.039 -0.997,6.486 0.121,7.33 1.174,8.259 2.271,9.131 2.547,9.351 2.886,9.492 3.296,9.727 3.678,7.092 2.699,5.236 0.83,3.688 1.776,2.812 2.678,2.043 3.499,1.197 4.303,0.369 5.017,-0.556 6.475,0.141 6.464,0.003 6.454,-0.135 6.443,-0.274 2.057,-1.629 -2.329,-2.985 -6.843,-4.38 c 0,1.332 -0.03,2.565 0.032,3.792 0.009,0.187 0.429,0.48 0.679,0.503 0.734,0.068 1.478,0.024 2.268,0.024 0.413,1.55 -0.035,2.855 -0.817,4.084 -0.734,1.152 -0.955,2.343 -0.288,3.587 0.186,0.346 0.509,0.618 0.805,0.966"
              />
            </g>
            <g transform="translate(763.5957,643.1919)" id="g166">
              <path
                id="path168"
                className="tracker-background-item"
                d="M 0,0 C -0.636,1.393 -1.528,2.118 -2.277,1.777 -2.965,1.464 -3.306,0.833 -3.316,0 Z m 3.591,-4.355 c -4.504,1.388 -8.811,2.716 -13.21,4.073 0.14,0.117 0.233,0.254 0.298,0.241 1.086,-0.213 1.731,0.356 2.409,1.124 0.806,0.916 1.794,1.671 2.691,2.484 C -4.863,4.47 -5.654,5.291 -6.088,6.27 -6.52,7.244 -6.594,8.377 -6.824,9.441 -6.712,9.517 -6.6,9.593 -6.487,9.669 -6.189,9.531 -5.842,9.452 -5.604,9.246 -4.797,8.544 -4.062,7.757 -3.238,7.077 -1.723,5.825 -0.697,6.033 0.271,7.719 0.408,7.958 0.547,8.195 0.682,8.427 1.688,8.169 2.39,6.758 2.021,5.512 1.787,4.727 1.337,4.006 0.984,3.256 0.866,3.005 0.712,2.764 0.637,2.5 0.028,0.364 0.312,-0.05 2.486,-0.017 3.311,-0.004 3.674,-0.204 3.608,-1.103 3.532,-2.146 3.591,-3.198 3.591,-4.355"
              />
            </g>
            <g transform="translate(700.6162,659.5015)" id="g170">
              <path
                id="path172"
                className="tracker-background-item"
                d="m 0,0 c -0.611,0.221 -1.11,0.402 -1.797,0.651 -1.761,0.706 -2.045,0.78 -3.274,0.25 -0.832,-0.359 -1.741,-0.54 -2.706,-0.827 0,1.408 -0.085,2.709 0.026,3.993 0.099,1.141 0.955,1.93 1.824,2.532 0.748,0.517 1.46,1.711 2.524,1.056 C -1.849,6.699 -0.076,5.776 -0.007,3.55 0.029,2.413 0,1.274 0,0"
              />
            </g>
            <g transform="translate(673.8589,664.2295)" id="g174">
              <path
                id="path176"
                className="tracker-background-item"
                d="m 0,0 c 0,-3.467 0.01,-6.749 -0.022,-10.029 -0.002,-0.211 -0.284,-0.524 -0.505,-0.609 -0.77,-0.295 -1.571,-0.51 -2.462,-0.788 -0.021,0.396 -0.053,0.723 -0.053,1.051 -0.004,2.788 0.016,5.576 -0.015,8.363 -0.007,0.709 0.119,1.164 0.914,1.321 C -1.46,-0.556 -0.808,-0.268 0,0"
              />
            </g>
            <g transform="translate(719.585,664.2261)" id="g178">
              <path
                id="path180"
                className="tracker-background-item"
                d="m 0,0 c 0.967,-0.314 1.819,-0.559 2.64,-0.883 0.188,-0.074 0.382,-0.42 0.383,-0.642 0.018,-3.189 0.003,-6.379 -0.007,-9.568 -10e-4,-0.086 -0.056,-0.171 -0.084,-0.253 -0.073,-0.007 -0.141,-0.034 -0.193,-0.016 -0.895,0.314 -2.083,0.396 -2.593,1.026 -0.445,0.55 -0.14,1.719 -0.144,2.614 C -0.006,-5.492 0,-3.262 0,-1.032 Z"
              />
            </g>
            <g transform="translate(678.1177,665.3589)" id="g182">
              <path
                id="path184"
                className="tracker-background-item"
                d="m 0,0 c 0.023,-0.422 0.055,-0.747 0.055,-1.071 0.004,-2.723 -0.029,-5.447 0.022,-8.169 0.014,-0.782 -0.226,-1.192 -0.977,-1.366 -0.65,-0.151 -1.286,-0.366 -2.057,-0.59 -0.022,0.426 -0.055,0.751 -0.055,1.075 -0.004,2.785 0.023,5.571 -0.018,8.355 -0.011,0.742 0.164,1.164 0.947,1.284 C -1.424,-0.381 -0.779,-0.185 0,0"
              />
            </g>
            <g transform="translate(715.3945,665.2646)" id="g186">
              <path
                id="path188"
                className="tracker-background-item"
                d="m 0,0 c 0.14,0.019 0.203,0.045 0.257,0.032 2.688,-0.638 2.688,-0.639 2.688,-3.429 0.001,-2.23 0.003,-4.459 0,-6.689 0,-0.299 -0.025,-0.597 -0.045,-1.043 -0.946,0.304 -1.792,0.546 -2.61,0.861 -0.186,0.072 -0.391,0.393 -0.392,0.601 -0.022,3.128 -0.012,6.256 -0.004,9.383 C -0.105,-0.201 -0.046,-0.118 0,0"
              />
            </g>
            <g transform="translate(662.7329,650.3179)" id="g190">
              <path
                id="path192"
                className="tracker-background-item"
                d="m 0,0 c 0,2.864 -0.002,5.516 0.006,8.168 0,0.139 0.037,0.337 0.131,0.407 0.892,0.656 1.799,1.29 2.926,2.09 V 6.002 C 3.063,4.613 3.039,3.223 3.073,1.834 3.089,1.2 2.984,0.811 2.244,0.689 1.531,0.573 0.848,0.27 0,0"
              />
            </g>
            <g transform="translate(730.7109,650.3354)" id="g194">
              <path
                id="path196"
                className="tracker-background-item"
                d="M 0,0 C -0.99,0.291 -1.846,0.524 -2.685,0.805 -2.84,0.856 -3.033,1.102 -3.034,1.26 -3.055,4.278 -3.05,7.296 -3.05,10.638 -1.935,9.848 -1.027,9.214 -0.135,8.559 -0.041,8.489 -0.006,8.291 -0.005,8.152 0.002,5.499 0,2.845 0,0"
              />
            </g>
            <g transform="translate(685.6094,657.3667)" id="g198">
              <path
                id="path200"
                className="tracker-background-item"
                d="M 0,0 V 9.292 C 0.964,9.405 1.9,9.514 2.927,9.633 2.959,9.289 3.004,9.022 3.005,8.756 3.011,6.434 2.99,4.11 3.021,1.788 3.028,1.168 2.875,0.804 2.225,0.658 1.509,0.498 0.813,0.246 0,0"
              />
            </g>
            <g transform="translate(707.7998,657.3828)" id="g202">
              <path
                id="path204"
                className="tracker-background-item"
                d="M 0,0 C -0.877,0.263 -1.729,0.493 -2.56,0.787 -2.736,0.849 -2.947,1.142 -2.949,1.33 -2.974,4.039 -2.966,6.748 -2.966,9.603 -1.936,9.498 -1.004,9.402 0,9.3 Z"
              />
            </g>
            <g transform="translate(658.6348,649.0596)" id="g206">
              <path
                id="path208"
                className="tracker-background-item"
                d="M 0,0 C -0.728,3.112 0.81,7.023 2.902,8.374 2.902,5.981 2.917,3.653 2.877,1.326 2.874,1.113 2.569,0.803 2.337,0.716 1.594,0.438 0.821,0.244 0,0"
              />
            </g>
            <g transform="translate(731.9033,657.4678)" id="g210">
              <path
                id="path212"
                className="tracker-background-item"
                d="M 0,0 C 2.198,-1.541 3.639,-5.432 2.915,-8.313 2.859,-8.327 2.799,-8.363 2.75,-8.35 0,-7.643 0,-7.643 0,-4.836 Z"
              />
            </g>
            <g transform="translate(697.833,741.3555)" id="g214">
              <path
                id="path216"
                className="tracker-background-item"
                d="m 0,0 c 0,-0.927 -0.011,-1.854 0.003,-2.781 0.011,-0.765 -0.412,-1.197 -1.109,-1.199 -0.699,-0.004 -1.121,0.424 -1.118,1.189 0.009,1.885 -0.01,3.77 0.01,5.655 0.007,0.719 0.376,1.163 1.145,1.138 0.714,-0.023 1.05,-0.45 1.064,-1.128 C 0.014,1.916 -0.001,0.958 0,0"
              />
            </g>
            <g transform="translate(703.5283,658.7397)" id="g218">
              <path
                id="path220"
                className="tracker-background-item"
                d="m 0,0 c -1.583,0.342 -1.584,0.342 -1.584,1.732 0,0.743 -0.042,1.489 0.018,2.226 0.097,1.207 -0.276,2.228 -0.987,3.186 -0.26,0.349 -0.343,0.829 -0.525,1.299 C -0.015,8.779 0,8.767 0,6.006 Z"
              />
            </g>
            <g transform="translate(692.9941,667.2231)" id="g222">
              <path
                id="path224"
                className="tracker-background-item"
                d="m 0,0 c -0.17,-0.483 -0.221,-0.956 -0.47,-1.272 -0.761,-0.971 -1.122,-2.033 -1.065,-3.262 0.036,-0.772 0.008,-1.547 0.007,-2.32 -10e-4,-1.337 -0.002,-1.337 -1.55,-1.542 v 2.397 c 0,1.702 0.019,3.404 -0.009,5.105 -0.011,0.631 0.219,0.914 0.853,0.898 C -1.56,-0.013 -0.883,0 0,0"
              />
            </g>
            <g transform="translate(625.895,629.6108)" id="g226">
              <path
                id="path228"
                className="tracker-background-item"
                d="M 0,0 C 1.568,0 2.915,0.018 4.261,-0.023 4.427,-0.029 4.719,-0.353 4.722,-0.533 4.756,-2.441 4.743,-4.349 4.57,-6.322 3.101,-4.289 1.631,-2.256 0,0"
              />
            </g>
            <g transform="translate(762.8076,623.3516)" id="g230">
              <path
                id="path232"
                className="tracker-background-item"
                d="M 0,0 C 0,1.909 -0.013,3.818 0.021,5.726 0.024,5.906 0.316,6.23 0.482,6.235 1.828,6.277 3.177,6.259 4.729,6.259 3.132,4.038 1.654,1.984 0.177,-0.069 0.118,-0.046 0.059,-0.023 0,0"
              />
            </g>
            <g transform="translate(702.3398,679.5591)" id="g234">
              <path
                id="path236"
                className="tracker-background-item"
                d="M 0,0 V 1.656 H 2.39 V -0.148 C 1.585,-0.099 0.829,-0.051 0,0"
              />
            </g>
            <g transform="translate(691.1104,681.1943)" id="g238">
              <path
                id="path240"
                className="tracker-background-item"
                d="M 0,0 V -1.621 C -0.784,-1.679 -1.536,-1.735 -2.385,-1.799 V 0 Z"
              />
            </g>
            <g transform="translate(714.3721,679.4673)" id="g242">
              <path
                id="path244"
                className="tracker-background-item"
                d="M 0,0 C 1.732,-0.163 1.824,-0.255 1.492,-1.509 -0.256,-1.318 -0.361,-1.211 0,0"
              />
            </g>
            <g transform="translate(679.0991,679.4946)" id="g246">
              <path
                id="path248"
                className="tracker-background-item"
                d="M 0,0 C 0.282,-1.275 0.277,-1.28 -1.479,-1.554 -1.902,-0.351 -1.835,-0.279 0,0"
              />
            </g>
            <g transform="translate(756.833,635.5249)" id="g250">
              <path
                id="path252"
                className="tracker-background-item"
                d="m 0,0 h -1.736 c -5.73,-0.001 -85.668,-0.001 -116.515,-0.001 h -1.947 c -0.02,0.061 -0.04,0.121 -0.061,0.182 0.859,0.293 1.711,0.607 2.577,0.876 2.646,0.819 5.3,1.615 7.948,2.431 4.676,1.443 9.352,2.89 14.026,4.343 2.528,0.786 5.049,1.596 7.577,2.38 4.645,1.44 9.295,2.861 13.938,4.305 3.293,1.023 6.58,2.066 9.868,3.106 1.291,0.407 2.554,0.988 3.875,1.185 0.811,0.12 1.725,-0.288 2.566,-0.548 6.53,-2.012 13.055,-4.038 19.577,-6.076 3.937,-1.23 7.859,-2.509 11.797,-3.731 5.028,-1.56 10.071,-3.072 15.099,-4.629 C -8.089,2.794 -4.781,1.72 -1.466,0.667 -0.964,0.508 -0.46,0.356 0.043,0.201 0.028,0.134 0.015,0.067 0,0"
              />
            </g>
          </g>
          <g xmlns="http://www.w3.org/2000/svg" id="g84">
            <g clipPath="url(#clipPath90)" id="g86">
              <g transform="translate(571.3604,587.0117)" id="g92">
                <path
                  id="path94"
                  className="tracker-background-item"
                  d="m 0,0 -7.36,12.988 -25,-34 51,-9 -9,13 -0.725,1.28 c 11.43,3.576 19.725,14.247 19.725,26.856 V 35.988 C 22.861,22.801 13.287,10.861 0,0"
                />
              </g>
              <g transform="translate(821.6396,587.0117)" id="g96">
                <path
                  id="path98"
                  className="tracker-background-item"
                  d="m 0,0 7.36,12.988 25,-34 -51,-9 9,13 0.725,1.28 c -11.43,3.576 -19.725,14.247 -19.725,26.856 V 35.988 C -22.861,22.801 -13.287,10.861 0,0"
                />
              </g>
            </g>
          </g>
        </g>
      </svg>
    </div>
  );
};
TrackerLayout.propTypes = {
  ids: PropTypes.array,
  data: PropTypes.object
};

const TrackerStepListActions = () => (
  <TopToolbar style={{ justifyContent: 'flex-start', width: '100%' }}>
    <CreateButton basePath="tracker_steps" />
  </TopToolbar>
);

class TrackerStepList extends React.Component {
  render() {
    const { push, classes, ...props } = this.props;

    return (
      <Fragment>
        <List perPage={50} {...props} actions={<TrackerStepListActions />}>
          <TrackerLayout {...props} />
        </List>
        <Route path="/tracker_steps/create">
          {({ match }) => (
            <Drawer variant="temporary" open={!!match} anchor="right" onClose={this.handleClose}>
              <TrackerStepCreate
                ref={this.createForm}
                className={classes.drawerContent}
                onCancel={this.handleClose}
                {...props}
              />
            </Drawer>
          )}
        </Route>
        <Route path="/tracker_steps/:id">
          {({ match }) => {
            const isMatch = match && match.params && match.params.id !== 'create';

            return (
              <Drawer open={isMatch} anchor="right" onClose={this.handleClose}>
                {isMatch ? (
                  <TrackerStepEdit
                    className={classes.drawerContent}
                    id={isMatch ? match.params.id : null}
                    onCancel={this.handleClose}
                    {...props}
                  />
                ) : (
                  <div className={classes.drawerContent} />
                )}
              </Drawer>
            );
          }}
        </Route>
      </Fragment>
    );
  }
}
TrackerStepList.propTypes = {
  push: PropTypes.func,
  classes: PropTypes.object,
  navigation: PropTypes.object
};
export default compose(connect(undefined, { push }), withStyles(styles))(TrackerStepList);
